<div class="container">
	<h2>
		<i class="icon-user"></i> Users
	</h2>
	<i>This is the global noPlan user maintenance</i>
	TODO: Permissions <br> <br>

	<div class="row search">
		<input ng-model="filterText" class="form-control" placeholder="Table Filter"
			style="max-width: 150px; margin-left: 25px">
	</div>

	<div class="btn-group">
		<button class="btn" ng-click="addUser()">
			<i class="icon-plus"></i> Add User
		</button>
		<button class="btn" ng-click="getAllUsers()">
			<i class="icon-refresh"></i> Refresh
		</button>
	</div>

	<table class="table table-striped table-hover table-responsive">
		<tr>
			<th>Active</th>
			<th>Username</th>
			<th>Password</th>
			<th>Firstname</th>
			<th>Lastname</th>
			<th>Email</th>
			<th>Delete</th>
			<th ng-show="!isEditMode($index)">Edit</th>
			<th ng-show="isEditMode($index)">Save</th>
		</tr>

		<tr ng-repeat="user in users | filter:filterText" class="user-row">

			<td ng-show="!isEditMode($index)"><input class="checkbox" type="checkbox" checked="{{user.enabled}}" disabled /></td>
			<td ng-show="isEditMode($index)"><input class="form-control" type="checkbox" ng-model="user.enabled"></td>

			<td ng-show="!isEditMode($index)">{{user.username}}</td>
			<td ng-show="isEditMode($index)"><input class="form-control" type="text" placeholder="Username"
				ng-model="user.username" required></td>

			<td ng-show="!isEditMode($index)"><i>****</i></td>
			<td ng-show="isEditMode($index)"><input class="form-control" type="password" placeholder="Password"
				ng-model="user.password" required></td>

			<td ng-show="!isEditMode($index)">{{user.firstname}}</td>
			<td ng-show="isEditMode($index)"><input class="form-control" type="text" placeholder="Firstname"
				ng-model="user.firstname"></td>

			<td ng-show="!isEditMode($index)">{{user.lastname}}</td>
			<td ng-show="isEditMode($index)"><input class="form-control" type="text" placeholder="Lastname"
				ng-model="user.lastname"></td>

			<td ng-show="!isEditMode($index)">{{user.email}}</td>
			<td ng-show="isEditMode($index)"><input class="form-control" type="text" placeholder="E-Mail"
				ng-model="user.email"></td>
			<td>
				<button class="btn" ng-click="deleteUser($index)">
					<i class="icon-trash"></i>
				</button>
			</td>

			<td ng-show="!isEditMode($index)">
				<button ng-show="!isEditMode($index)" class="btn" ng-click="editUser($index)">
					<i class="icon-pencil"></i>
				</button>
			</td>

			<td ng-show="isEditMode($index)">
				<button class="btn btn-primary" ng-click="save($index)" ng-disabled="form.$invalid">
					<i class="icon-save"></i>
				</button>
			</td>

		</tr>

	</table>

</div>
